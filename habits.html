<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Habit Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000000;
            color: #E5E7EB; /* Equivalent to text-gray-200 */
        }
        .date-scroller::-webkit-scrollbar {
            display: none;
        }
        .date-scroller {
            -ms-overflow-style: none;  
            scrollbar-width: none;  
        }
        .habit-progress-bar {
            transition: width 0.3s ease-in-out;
        }
        #add-habit-view {
            transition: transform 0.3s ease-in-out;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Main App View -->
    <div id="main-view" class="w-full h-full">
        <div class="p-5 pb-24 min-h-screen">
            <!-- Header -->
            <header class="flex justify-between items-center mb-6">
                <button class="flex items-center gap-1.5 bg-[#1E1E1E] px-3 py-1.5 rounded-full text-sm font-semibold">
                    <span>All</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                </button>
                <h1 class="text-xl font-bold">Today</h1>
                <button class="w-8 h-8 rounded-full bg-yellow-400 text-black flex items-center justify-center text-lg">
                    <span>😊</span>
                </button>
            </header>

            <!-- Date Scroller -->
            <div id="date-scroller-container" class="date-scroller flex space-x-3 overflow-x-auto pb-4 mb-6">
                <!-- Dates will be dynamically inserted here -->
            </div>

            <!-- Habits List -->
            <div id="habits-container" class="space-y-3">
                <!-- Habit items or empty state will be inserted here -->
            </div>
        </div>

        <!-- Bottom Navigation -->
        <footer class="fixed bottom-0 left-0 right-0 bg-black border-t border-gray-800 p-2 flex justify-around items-center">
            <button class="p-2 text-gray-400">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z" />
                </svg>
            </button>
            <button class="p-2 text-gray-400">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a1 1 0 011-1h14a1 1 0 110 2H3a1 1 0 01-1-1z" />
                </svg>
            </button>
            <button id="add-habit-btn" class="w-16 h-16 bg-red-500 rounded-full flex items-center justify-center text-white -mt-8 border-4 border-black">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                </svg>
            </button>
            <button class="p-2 text-gray-400">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                </svg>
            </button>
            <button class="p-2 text-gray-400">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
            </button>
        </footer>
    </div>
    
    <!-- Add Habit View (Initially hidden) -->
    <div id="add-habit-view" class="fixed inset-0 bg-black transform translate-x-full z-50 p-5">
        <!-- Add Habit Header -->
        <header class="flex items-center mb-8">
            <button id="back-btn" class="p-1">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                </svg>
            </button>
            <h2 class="text-xl font-bold mx-auto">Custom Habit</h2>
            <div class="w-6"></div> <!-- Spacer -->
        </header>

        <!-- Form Sections -->
        <div class="space-y-4">
            <!-- Habit Name & Icon -->
            <div class="bg-[#1E1E1E] p-4 rounded-xl">
                <div class="flex items-center gap-4">
                    <button class="w-14 h-14 bg-gray-700 rounded-lg flex items-center justify-center text-3xl">
                        ➕
                    </button>
                    <div class="flex-grow">
                        <input type="text" placeholder="Habit name" class="w-full bg-transparent text-lg font-semibold placeholder-gray-400 focus:outline-none">
                        <input type="text" placeholder="Description (Optional)" class="w-full bg-transparent text-sm text-gray-400 placeholder-gray-400 focus:outline-none mt-1">
                    </div>
                </div>
            </div>

            <!-- Color & Group -->
            <div class="bg-[#1E1E1E] p-4 rounded-xl divide-y divide-gray-700">
                <div class="flex justify-between items-center py-2">
                    <label class="font-semibold">Color</label>
                    <button class="flex items-center gap-2">
                        <div class="w-6 h-6 rounded-full bg-teal-400"></div>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /></svg>
                    </button>
                </div>
                <div class="flex justify-between items-center py-2">
                    <label class="font-semibold">Group</label>
                    <button class="flex items-center gap-2 text-gray-400">
                        <span>(Optional)</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /></svg>
                    </button>
                </div>
            </div>

            <!-- Habit Type -->
            <div class="bg-[#1E1E1E] p-4 rounded-xl">
                 <div class="flex items-center p-1 bg-gray-900 rounded-lg">
                    <button class="w-1/2 py-2 rounded-md bg-teal-400 text-black font-semibold">Build</button>
                    <button class="w-1/2 py-2 rounded-md text-gray-400 font-semibold">Quit</button>
                </div>
            </div>

            <!-- Goal Settings -->
            <div class="bg-[#1E1E1E] rounded-xl text-sm">
                 <p class="text-xs text-red-400 px-4 pt-3">*Complete 1 count each day</p>
                 <div class="p-4 flex justify-between items-center">
                    <label class="font-semibold">Task Days</label>
                    <button class="flex items-center gap-2 text-gray-400">
                        <span>Every Day</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /></svg>
                    </button>
                </div>
            </div>
            
             <!-- Time Range -->
            <div class="bg-[#1E1E1E] p-4 rounded-xl">
                 <div class="flex items-center justify-between">
                    <button class="px-3 py-1.5 text-sm rounded-full bg-teal-400 text-black font-semibold">Anytime</button>
                    <button class="px-3 py-1.5 text-sm rounded-full text-gray-400 font-semibold">Morning</button>
                    <button class="px-3 py-1.5 text-sm rounded-full text-gray-400 font-semibold">Afternoon</button>
                    <button class="px-3 py-1.5 text-sm rounded-full text-gray-400 font-semibold">Evening</button>
                </div>
            </div>
        </div>

         <!-- Save Button -->
        <div class="absolute bottom-5 left-5 right-5">
             <button id="save-habit-btn" class="w-full bg-red-500 text-white font-bold py-4 rounded-xl">Create Habit</button>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const habitsContainer = document.getElementById('habits-container');
            const dateScrollerContainer = document.getElementById('date-scroller-container');

            const mainView = document.getElementById('main-view');
            const addHabitView = document.getElementById('add-habit-view');
            const addHabitBtn = document.getElementById('add-habit-btn');
            const backBtn = document.getElementById('back-btn');
            const saveHabitBtn = document.getElementById('save-habit-btn');

            // --- STATE ---
            let habits = [
                { id: 1, name: 'Read a book', icon: '📚', color: 'bg-blue-600', progressColor: 'bg-blue-400', current: 25, goal: 30, unit: 'min' },
                { id: 2, name: 'Run', icon: '🏃', color: 'bg-yellow-500', progressColor: 'bg-yellow-300', current: 2, goal: 3, unit: 'km' },
                { id: 3, name: 'Work', icon: '➕', color: 'bg-teal-500', progressColor: 'bg-teal-300', current: 6, goal: 12, unit: '' },
            ];
            
            // --- RENDER FUNCTIONS ---
            const renderHabits = () => {
                habitsContainer.innerHTML = ''; // Clear existing habits
                if (habits.length === 0) {
                    habitsContainer.innerHTML = `
                        <div class="text-center mt-20 flex flex-col items-center">
                            <div class="w-40 h-40 opacity-30">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" fill="none">
                                    <circle cx="100" cy="100" r="80" fill="#FF4B4B" fill-opacity="0.1"/>
                                    <path d="M140.833 83.3333L125 62.5L108.333 83.3333M140.833 83.3333C142.5 87.5 141.667 90.8333 140 93.3333C135.833 100 128.333 105 120 106.667C111.667 108.333 102.5 106.667 95 101.667C87.5 96.6667 82.5 89.1667 80.8333 80.8333C79.1667 72.5 80.8333 63.3333 85.8333 55.8333C90.8333 48.3333 98.3333 43.3333 106.667 41.6667C110.833 40.8333 115 41.6667 118.333 43.3333" stroke="#FF4B4B" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M125 62.5V41.6667M125 62.5L140.833 83.3333" stroke="#FF4B4B" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M91.6667 125L83.3333 141.667L66.6667 133.333L75 116.667" fill="#FF4B4B" fill-opacity="0.3" stroke="#FF4B4B" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M125 100C125 104.142 121.642 107.5 117.5 107.5C113.358 107.5 110 104.142 110 100C110 95.8579 113.358 92.5 117.5 92.5C121.642 92.5 125 95.8579 125 100Z" fill="#FF4B4B" fill-opacity="0.3"/>
                                    <path d="M133.333 58.3333C133.333 60.1912 131.858 61.6667 130 61.6667C128.142 61.6667 126.667 60.1912 126.667 58.3333C126.667 56.4755 128.142 55 130 55C131.858 55 133.333 56.4755 133.333 58.3333Z" fill="#FF4B4B" fill-opacity="0.3"/>
                                    <path d="M75 83.3333C75 85.1912 73.5245 86.6667 71.6667 86.6667C69.8088 86.6667 68.3333 85.1912 68.3333 83.3333C68.3333 81.4755 69.8088 80 71.6667 80C73.5245 80 75 81.4755 75 83.3333Z" fill="#FF4B4B" fill-opacity="0.3"/>
                                    <path d="M83.3333 116.667L75 125" stroke="#FF4B4B" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                            <h2 class="text-xl font-bold mt-4">No Habits</h2>
                            <p class="text-gray-400 mt-1">Tap "+" to add your first habit.</p>
                        </div>
                    `;
                } else {
                    habits.forEach(habit => {
                        const progressPercentage = (habit.current / habit.goal) * 100;
                        const habitEl = document.createElement('div');
                        habitEl.className = `p-4 rounded-xl flex items-center gap-4 ${habit.color}`;
                        habitEl.innerHTML = `
                            <div class="text-2xl">${habit.icon}</div>
                            <div class="flex-grow">
                                <p class="font-semibold text-white">${habit.name}</p>
                                <div class="w-full bg-black/20 rounded-full h-2 mt-1.5">
                                    <div class="habit-progress-bar h-2 rounded-full ${habit.progressColor}" style="width: ${progressPercentage}%"></div>
                                </div>
                            </div>
                            <div class="font-semibold text-sm text-white/80">${habit.current}${habit.unit}/${habit.goal}${habit.unit}</div>
                        `;
                        // Simple progress simulation on click
                        habitEl.addEventListener('click', () => {
                            const targetHabit = habits.find(h => h.id === habit.id);
                            if (targetHabit.current < targetHabit.goal) {
                                targetHabit.current += 1;
                                renderHabits();
                            }
                        });
                        habitsContainer.appendChild(habitEl);
                    });
                }
            };
            
            const renderDateScroller = () => {
                dateScrollerContainer.innerHTML = '';
                const today = new Date();
                const days = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];
                
                for (let i = -3; i <= 3; i++) {
                    const date = new Date();
                    date.setDate(today.getDate() + i);
                    
                    const isToday = (i === 0);
                    const dayName = days[date.getDay()];
                    const dayOfMonth = date.getDate();
                    
                    const dateEl = document.createElement('button');
                    dateEl.className = `flex flex-col items-center justify-center space-y-1.5 w-12`;
                    
                    dateEl.innerHTML = `
                        <span class="text-sm font-medium ${isToday ? 'text-white' : 'text-gray-400'}">${dayName}</span>
                        <span class="flex items-center justify-center w-9 h-9 text-sm font-semibold rounded-full ${isToday ? 'bg-red-500 text-white' : 'text-gray-200'}">${dayOfMonth}</span>
                    `;
                    dateScrollerContainer.appendChild(dateEl);
                }
            };

            // --- EVENT LISTENERS ---
            addHabitBtn.addEventListener('click', () => {
                addHabitView.classList.remove('translate-x-full');
            });
            
            backBtn.addEventListener('click', () => {
                addHabitView.classList.add('translate-x-full');
            });

            saveHabitBtn.addEventListener('click', () => {
                // In a real app, you'd get data from the form
                const newHabit = {
                    id: Date.now(),
                    name: 'New Habit',
                    icon: '🎯',
                    color: 'bg-purple-600',
                    progressColor: 'bg-purple-400',
                    current: 0,
                    goal: 10,
                    unit: 'x'
                };
                habits.push(newHabit);
                renderHabits();
                addHabitView.classList.add('translate-x-full');
            });

            // --- INITIALIZATION ---
            renderDateScroller();
            renderHabits();
        });
    </script>

</body>
</html>
