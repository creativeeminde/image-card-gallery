<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudioHub Dashboard</title>
    <!-- Favicon matching the StudioHub theme -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 24 24%22><circle cx=%2212%22 cy=%2212%22 r=%2212%22 fill=%22%237fe826%22/><path d=%22M13 2L3 14h7v8l11-12h-7L13 2z%22 fill=%22%23fff%22/></svg>">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Supabase JS Library -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
        
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #f1f5f0; /* The exact light sage green from the image */
            color: #1a1a1a;
        }

        /* Hide scrollbar for clean look */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }

        /* Modals and Toasts */
        .modal {
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .modal.active {
            display: flex;
            opacity: 1;
        }
        #successToast {
            transform: translateY(100%);
            opacity: 0;
            transition: all 0.3s ease;
        }
        #successToast.show {
            transform: translateY(0);
            opacity: 1;
        }

        /* Models Grid Hover Effects */
        .gallery-model-card {
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .gallery-model-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05), 0 8px 10px -6px rgba(0, 0, 0, 0.05);
        }
        .gallery-model-img-wrapper img {
            transition: transform 0.5s ease;
        }
        .gallery-model-card:hover .gallery-model-img-wrapper img {
            transform: scale(1.05);
        }

        /* Custom Progress Bar Handles */
        .progress-handle {
            position: absolute;
            right: 2px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            background-color: #111;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
            line-height: 1;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col overflow-x-hidden">

    <!-- FLOATING TOP HEADER -->
    <header class="w-full px-6 py-5 flex items-start justify-between z-40 relative">
        
        <!-- Left Widget -->
        <div class="bg-white rounded-full py-2 pl-4 pr-2 flex items-center gap-4 shadow-sm">
            <div class="flex items-center gap-2">
                <div class="w-6 h-6 bg-[#7fe826] rounded-full flex items-center justify-center text-white text-xs shadow-sm">âš¡</div>
                <span class="text-sm font-medium text-slate-700">Are you in beast mode or<br><span class="text-slate-500 font-normal">chill mode today? ðŸ”¥</span></span>
            </div>
            <button class="bg-[#111] text-white text-sm font-semibold px-6 py-2.5 rounded-full hover:bg-black transition">Answer</button>
        </div>

        <!-- Center Nav Pills -->
        <nav class="bg-[#e4ece3] p-1.5 rounded-full flex gap-1 shadow-inner">
            <button class="nav-item px-6 py-2.5 rounded-full text-slate-500 font-medium text-sm transition-all" data-target="modelsView">Models</button>
            <button class="nav-item px-6 py-2.5 rounded-full bg-white text-slate-900 shadow-sm font-medium text-sm transition-all" data-target="closeUpView">Close Up</button>
            <button class="nav-item px-6 py-2.5 rounded-full text-slate-500 font-medium text-sm transition-all" data-target="clipsView">OnlyClips</button>
            <button class="nav-item px-6 py-2.5 rounded-full text-slate-500 font-medium text-sm transition-all" data-target="assetsView">OnlyAssets</button>
        </nav>

        <!-- Right Widgets -->
        <div class="flex items-center gap-3">
            <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&w=150&q=80" alt="User" class="w-10 h-10 rounded-full object-cover shadow-sm border-2 border-white">
            <button class="bg-white px-4 py-2.5 rounded-full flex items-center gap-2 text-sm font-medium text-slate-700 shadow-sm">
                5 November
                <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </button>
            <button class="bg-white w-10 h-10 rounded-full flex items-center justify-center shadow-sm text-slate-600 hover:text-slate-900">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
            </button>
            <button onclick="openModelModal()" class="bg-[#111] text-white w-10 h-10 rounded-full flex items-center justify-center shadow-sm hover:bg-black transition-colors">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
            </button>
        </div>

    </header>

    <!-- MAIN CONTENT AREA -->
    <main class="flex-1 w-full pb-8 flex flex-col justify-center">

        <!-- ========================================= -->
        <!-- MODELS VIEW (Supabase Grid - Kept Intact) -->
        <!-- ========================================= -->
        <div id="modelsView" class="view-section hidden px-8 max-w-[1400px] mx-auto w-full">
            
            <!-- Controls -->
            <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8 mt-4">
                <div>
                    <h2 class="text-3xl font-bold text-slate-900 tracking-tight">Models Gallery</h2>
                    <p class="text-slate-500 mt-1">Manage and view your 3D models and character assets.</p>
                </div>
                
                <div class="flex items-center gap-3 w-full sm:w-auto">
                    <select id="tagFilter" class="bg-white border-0 shadow-sm text-slate-700 text-sm rounded-full focus:ring-2 focus:ring-[#7fe826] block py-2.5 px-4 outline-none font-medium">
                        <option value="all">All Tags</option>
                        <!-- Tags injected via JS -->
                    </select>
                </div>
            </div>

            <!-- Empty State -->
            <div id="modelsEmptyState" class="hidden flex-col items-center justify-center py-24 px-4 text-center bg-white/50 border border-dashed border-slate-300 rounded-[2rem] backdrop-blur-sm">
                <svg class="w-16 h-16 text-slate-300 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                <h3 class="text-xl font-bold text-slate-900 mb-1">No models found</h3>
                <p class="text-slate-500 max-w-sm mb-6">Your gallery is currently empty or loading. Add your first model to get started.</p>
                <button onclick="openModelModal()" class="text-[#111] bg-white border border-slate-200 shadow-sm hover:bg-slate-50 px-6 py-2.5 rounded-full font-semibold transition-colors">Add New Model</button>
            </div>

            <!-- Loading State -->
            <div id="modelsLoadingState" class="flex flex-col items-center justify-center py-24">
                <div class="w-10 h-10 border-4 border-[#e4ece3] border-t-[#7fe826] rounded-full animate-spin mb-4"></div>
                <p class="text-slate-500 font-medium animate-pulse">Connecting to Supabase...</p>
            </div>

            <!-- Grid -->
            <div id="modelsGrid" class="hidden grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6">
                <!-- Cards injected via JS -->
            </div>
        </div>

        <!-- ========================================= -->
        <!-- CLOSE UP VIEW (Perfectly Centered Reel)   -->
        <!-- ========================================= -->
        <div id="closeUpView" class="view-section block px-6 w-full max-w-[1500px] mx-auto">
            <!-- Flex container for perfect centering and top alignment (fixes space issues) -->
            <div class="flex flex-col lg:flex-row justify-center items-start gap-8 lg:gap-10 xl:gap-14 pt-2">
                
                <!-- LEFT COLUMN -->
                <div class="w-full lg:w-[320px] xl:w-[360px] flex-shrink-0 space-y-5 lg:space-y-6">
                    
                    <!-- Rating Card -->
                    <div class="bg-white rounded-[1.5rem] p-5 shadow-sm">
                        <p class="text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-0.5">Opinion</p>
                        <h3 class="text-base font-bold text-slate-900 mb-1">Her Rating</h3>
                        <div class="flex items-baseline gap-2 mb-3">
                            <span class="text-3xl font-extrabold tracking-tight">100%</span>
                            <span class="text-xs text-slate-400 font-medium">Hotness</span>
                        </div>
                        <!-- Bar -->
                        <div class="h-8 bg-[#f1f5f0] rounded-full relative overflow-hidden flex items-center px-4">
                            <!-- Striped background effect on the empty part -->
                            <div class="absolute inset-0 opacity-20" style="background-image: repeating-linear-gradient(45deg, transparent, transparent 5px, #94a3b8 5px, #94a3b8 10px);"></div>
                            <!-- Filled part -->
                            <div class="absolute left-0 top-0 bottom-0 w-[45%] bg-[#7fe826] rounded-full z-10">
                                <span class="absolute left-4 top-1/2 -translate-y-1/2 text-xs font-bold text-[#111]">17g</span>
                                <div class="progress-handle" style="width: 18px; height: 18px; font-size: 12px;">+</div>
                            </div>
                            <span class="absolute right-4 z-0 text-xs font-bold text-slate-400">40g</span>
                        </div>
                    </div>

                    <!-- Balance Card -->
                    <div class="bg-white rounded-[1.5rem] p-5 shadow-sm relative">
                        <div class="flex justify-between items-center mb-3">
                            <h3 class="font-bold text-slate-900 text-base">Her Balance</h3>
                            <button class="w-7 h-7 rounded-full bg-slate-50 flex items-center justify-center text-slate-500 hover:bg-slate-100">
                                <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                            </button>
                        </div>
                        
                        <div class="space-y-3">
                            <!-- Chest -->
                            <div class="flex items-center gap-3">
                                <span class="w-14 text-[11px] text-slate-500 font-medium">Chest</span>
                                <div class="flex-1 h-[18px] bg-[#f1f5f0] rounded-full relative">
                                    <div class="absolute inset-0 opacity-20 rounded-full" style="background-image: repeating-linear-gradient(45deg, transparent, transparent 4px, #94a3b8 4px, #94a3b8 8px);"></div>
                                    <div class="absolute left-0 top-0 bottom-0 w-[70%] bg-[#c4b5fd] rounded-full z-10 flex items-center px-2.5">
                                        <span class="text-[9px] font-bold text-[#111]">70%</span>
                                        <div class="progress-handle" style="width: 12px; height: 12px; font-size: 8px;">+</div>
                                    </div>
                                </div>
                                <span class="text-[10px] text-slate-400 font-medium">100%</span>
                            </div>
                            <!-- Biceps -->
                            <div class="flex items-center gap-3">
                                <span class="w-14 text-[11px] text-slate-500 font-medium">Biceps</span>
                                <div class="flex-1 h-[18px] bg-[#f1f5f0] rounded-full relative">
                                    <div class="absolute inset-0 opacity-20 rounded-full" style="background-image: repeating-linear-gradient(45deg, transparent, transparent 4px, #94a3b8 4px, #94a3b8 8px);"></div>
                                    <div class="absolute left-0 top-0 bottom-0 w-[30%] bg-[#7fe826] rounded-full z-10 flex items-center px-2.5">
                                        <span class="text-[9px] font-bold text-[#111]">17%</span>
                                        <div class="progress-handle" style="width: 12px; height: 12px; font-size: 8px;">+</div>
                                    </div>
                                </div>
                                <span class="text-[10px] text-slate-400 font-medium">100%</span>
                            </div>
                            <!-- Glutes -->
                            <div class="flex items-center gap-3">
                                <span class="w-14 text-[11px] text-slate-500 font-medium">Glutes</span>
                                <div class="flex-1 h-[18px] bg-[#f1f5f0] rounded-full relative">
                                    <div class="absolute inset-0 opacity-20 rounded-full" style="background-image: repeating-linear-gradient(45deg, transparent, transparent 4px, #94a3b8 4px, #94a3b8 8px);"></div>
                                    <div class="absolute left-0 top-0 bottom-0 w-[80%] bg-[#fca5a5] rounded-full z-10 flex items-center px-2.5">
                                        <span class="text-[9px] font-bold text-[#111]">80%</span>
                                        <div class="progress-handle" style="width: 12px; height: 12px; font-size: 8px;">+</div>
                                    </div>
                                </div>
                                <span class="text-[10px] text-slate-400 font-medium">100%</span>
                            </div>
                            <!-- Shoulders -->
                            <div class="flex items-center gap-3">
                                <span class="w-14 text-[11px] text-slate-500 font-medium">Shoulders</span>
                                <div class="flex-1 h-[18px] bg-[#f1f5f0] rounded-full relative">
                                    <div class="absolute inset-0 opacity-20 rounded-full" style="background-image: repeating-linear-gradient(45deg, transparent, transparent 4px, #94a3b8 4px, #94a3b8 8px);"></div>
                                    <div class="absolute left-0 top-0 bottom-0 w-[45%] bg-[#fde047] rounded-full z-10 flex items-center px-2.5">
                                        <span class="text-[9px] font-bold text-[#111]">33%</span>
                                        <div class="progress-handle" style="width: 12px; height: 12px; font-size: 8px;">+</div>
                                    </div>
                                </div>
                                <span class="text-[10px] text-slate-400 font-medium">100%</span>
                            </div>
                        </div>
                    </div>

                    <!-- Assets Small Grid (Fixed aspect ratio to prevent cut-offs) -->
                    <div>
                        <h3 class="font-bold text-slate-900 mb-3 px-1 text-sm">Assets</h3>
                        <div id="closeUpAssetsGrid" class="grid grid-cols-3 gap-3">
                            <!-- Populated via JS -->
                        </div>
                    </div>
                </div>

                <!-- CENTER COLUMN (Main Image - Vertical Reel) -->
                <div class="relative w-full max-w-[320px] xl:max-w-[360px] aspect-[9/16] mx-auto lg:mx-0 z-10 flex-shrink-0">
                    <!-- Image with heavy border -->
                    <img id="closeUpMainImage" src="https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?w=800&q=80" alt="Main Model" class="w-full h-full object-cover object-center rounded-[2.5rem] shadow-sm border-[6px] border-white bg-slate-200">
                    
                    <!-- Floating Edit Button positioned completely outside overflow restrictions -->
                    <button class="absolute bottom-8 -right-5 bg-[#8e98a8] text-white px-5 py-2.5 rounded-full text-[13px] font-semibold flex items-center gap-1.5 shadow-lg hover:bg-slate-500 transition z-20">
                        <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg>
                        Edit
                    </button>
                </div>

                <!-- RIGHT COLUMN -->
                <div class="w-full lg:w-[440px] xl:w-[480px] flex-shrink-0 space-y-6 lg:space-y-8">
                    
                    <!-- Class Section -->
                    <div>
                        <h2 class="text-[17px] font-bold text-slate-900 mb-4 text-center">Class Section</h2>
                        <div class="flex items-center justify-center gap-3 xl:gap-4 flex-wrap">
                            <!-- Badges -->
                            <div class="flex flex-col items-center gap-1.5">
                                <div class="w-11 h-11 rounded-full border-2 border-[#7fe826] bg-white flex items-center justify-center font-bold text-sm text-slate-700 shadow-sm">44</div>
                                <span class="text-[9px] font-bold text-slate-400 uppercase tracking-wide flex items-center gap-1"><span class="w-1.5 h-1.5 rounded-full bg-amber-400"></span> Petite</span>
                            </div>
                            <div class="flex flex-col items-center gap-1.5">
                                <div class="w-11 h-11 rounded-full border-2 border-[#7fe826] bg-white flex items-center justify-center font-bold text-sm text-slate-700 shadow-sm">42</div>
                                <span class="text-[9px] font-bold text-slate-400 uppercase tracking-wide flex items-center gap-1"><span class="w-1.5 h-1.5 rounded-full bg-amber-400"></span> Milf</span>
                            </div>
                            <div class="flex flex-col items-center gap-1.5">
                                <div class="w-11 h-11 rounded-full border-2 border-[#7fe826] bg-white flex items-center justify-center font-bold text-sm text-slate-700 shadow-sm">40</div>
                                <span class="text-[9px] font-bold text-slate-400 uppercase tracking-wide flex items-center gap-1"><span class="w-1.5 h-1.5 rounded-full bg-amber-400"></span> Tall</span>
                            </div>
                            <div class="flex flex-col items-center gap-1.5 opacity-50">
                                <div class="w-11 h-11 rounded-full border-2 border-slate-300 bg-white flex items-center justify-center font-bold text-sm text-slate-400">5</div>
                                <span class="text-[9px] font-bold text-slate-400 uppercase tracking-wide">Perfect</span>
                            </div>
                            <div class="flex flex-col items-center gap-1.5">
                                <div class="w-11 h-11 rounded-full border-2 border-[#7fe826] bg-white flex items-center justify-center font-bold text-sm text-slate-700 shadow-sm">15</div>
                                <span class="text-[9px] font-bold text-slate-400 uppercase tracking-wide">Ebony</span>
                            </div>
                            <div class="flex flex-col items-center gap-1.5">
                                <div class="w-11 h-11 rounded-full border-2 border-[#7fe826] bg-white flex items-center justify-center font-bold text-sm text-slate-700 shadow-sm">43</div>
                                <span class="text-[9px] font-bold text-slate-400 uppercase tracking-wide">Latina</span>
                            </div>
                            <div class="flex flex-col items-center gap-1.5">
                                <div class="w-11 h-11 rounded-full border-2 border-[#7fe826] bg-white flex items-center justify-center font-bold text-sm text-slate-700 shadow-sm">17</div>
                                <span class="text-[9px] font-bold text-slate-400 uppercase tracking-wide">Asian</span>
                            </div>
                            <div class="flex flex-col items-center gap-1.5">
                                <div class="w-11 h-11 rounded-full bg-[#111] text-white flex items-center justify-center text-xl shadow-sm cursor-pointer hover:bg-black transition">+</div>
                                <span class="text-[9px] font-bold text-slate-400 uppercase tracking-wide">Add</span>
                            </div>
                        </div>
                    </div>

                    <!-- Amazing At -->
                    <div>
                        <h2 class="text-[17px] font-bold text-slate-900 mb-4 text-center">Amazing At</h2>
                        <div class="flex items-center justify-center gap-3 xl:gap-4 flex-wrap">
                            <div class="flex flex-col items-center gap-1.5">
                                <div class="w-11 h-11 rounded-full bg-white flex items-center justify-center text-slate-300 shadow-sm text-sm">âœ•</div>
                                <span class="text-[9px] font-bold text-slate-400 uppercase tracking-wide">Rider</span>
                            </div>
                            <div class="flex flex-col items-center gap-1.5">
                                <div class="w-11 h-11 rounded-full bg-[#7fe826] text-white flex items-center justify-center shadow-sm text-sm">âœ“</div>
                                <span class="text-[9px] font-bold text-slate-500 uppercase tracking-wide flex items-center gap-0.5"><span class="text-[10px]">â–²</span> Rv Rides</span>
                            </div>
                            <div class="flex flex-col items-center gap-1.5">
                                <div class="w-11 h-11 rounded-full bg-white flex items-center justify-center text-slate-300 shadow-sm text-sm">âœ•</div>
                                <span class="text-[9px] font-bold text-slate-400 uppercase tracking-wide">Bj</span>
                            </div>
                            <div class="flex flex-col items-center gap-1.5">
                                <div class="w-11 h-11 rounded-full bg-[#7fe826] text-white flex items-center justify-center shadow-sm text-sm">âœ“</div>
                                <span class="text-[9px] font-bold text-slate-500 uppercase tracking-wide flex items-center gap-0.5"><span class="text-[10px]">â–²</span> D Talk</span>
                            </div>
                            <div class="flex flex-col items-center gap-1.5">
                                <div class="w-11 h-11 rounded-full bg-white flex items-center justify-center text-slate-300 shadow-sm text-sm">âœ•</div>
                                <span class="text-[9px] font-bold text-slate-400 uppercase tracking-wide">Orgasm</span>
                            </div>
                            <div class="flex flex-col items-center gap-1.5">
                                <div class="w-11 h-11 rounded-full bg-white flex items-center justify-center text-slate-300 shadow-sm text-sm">âœ•</div>
                                <span class="text-[9px] font-bold text-slate-400 uppercase tracking-wide">Moan</span>
                            </div>
                            <div class="flex flex-col items-center gap-1.5">
                                <div class="w-11 h-11 rounded-full bg-white flex items-center justify-center text-slate-300 shadow-sm text-sm">âœ•</div>
                                <span class="text-[9px] font-bold text-slate-400 uppercase tracking-wide">Eat</span>
                            </div>
                            <div class="flex flex-col items-center gap-1.5">
                                <div class="w-11 h-11 rounded-full bg-[#111] text-white flex items-center justify-center text-xl shadow-sm cursor-pointer hover:bg-black transition">+</div>
                                <span class="text-[9px] font-bold text-slate-400 uppercase tracking-wide">Add</span>
                            </div>
                        </div>
                    </div>

                    <!-- Saved Clips (Responsive Aspect Ratio instead of fixed height) -->
                    <div>
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-[17px] font-bold text-slate-900">Saved Clips</h2>
                            <button class="w-8 h-8 rounded-full bg-[#111] flex items-center justify-center text-white hover:bg-black transition text-sm shadow-sm">+</button>
                        </div>
                        <div id="closeUpClipsGrid" class="grid grid-cols-3 gap-4">
                            <!-- Populated via JS -->
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!-- ========================================= -->
        <!-- ALL ASSETS VIEW -->
        <!-- ========================================= -->
        <div id="allAssetsView" class="view-section hidden px-6 w-full max-w-[1500px] mx-auto">
            <div class="flex items-center gap-4 mb-6 pt-2">
                <button onclick="document.querySelector('[data-target=\'closeUpView\']').click()" class="p-2 bg-white rounded-full shadow-sm text-slate-500 hover:text-[#111] hover:bg-slate-100 transition-colors border border-slate-200">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                </button>
                <h2 class="text-2xl font-bold text-slate-900">All Assets</h2>
            </div>
            <div id="fullAssetsGrid" class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-8 gap-4">
                <!-- Populated via JS -->
            </div>
        </div>

        <!-- ========================================= -->
        <!-- ALL CLIPS VIEW -->
        <!-- ========================================= -->
        <div id="allClipsView" class="view-section hidden px-6 w-full max-w-[1500px] mx-auto">
            <div class="flex items-center gap-4 mb-6 pt-2">
                <button onclick="document.querySelector('[data-target=\'closeUpView\']').click()" class="p-2 bg-white rounded-full shadow-sm text-slate-500 hover:text-[#111] hover:bg-slate-100 transition-colors border border-slate-200">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                </button>
                <h2 class="text-2xl font-bold text-slate-900">All Saved Clips</h2>
            </div>
            <div id="fullClipsGrid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4">
                <!-- Populated via JS -->
            </div>
        </div>

    </main>

    <!-- Add Model Modal -->
    <div id="addModelModal" class="modal fixed inset-0 z-50 bg-slate-900/50 backdrop-blur-sm items-center justify-center p-4">
        <div class="bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all flex flex-col max-h-[90vh]">
            <div class="px-6 py-5 border-b border-slate-100 flex justify-between items-center bg-slate-50/50 flex-shrink-0">
                <h3 class="text-xl font-bold text-slate-900">Add New Model</h3>
                <button onclick="closeModelModal()" class="w-8 h-8 flex items-center justify-center rounded-full bg-slate-100 text-slate-400 hover:text-slate-600 hover:bg-slate-200 transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            
            <form id="addModelForm" class="p-6 space-y-4 overflow-y-auto">
                <div>
                    <label class="block text-sm font-semibold text-slate-700 mb-1.5">Model Name</label>
                    <input type="text" id="modelName" required class="w-full border border-slate-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-[#7fe826] focus:border-[#7fe826] outline-none transition-all shadow-sm" placeholder="e.g. Cyberpunk Character">
                </div>
                
                <!-- Tag Selection Component -->
                <div>
                    <label class="block text-sm font-semibold text-slate-700 mb-1.5">Tags</label>
                    <div class="flex gap-2 mb-3">
                        <input type="text" id="newTagInput" class="flex-1 border border-slate-200 rounded-xl px-4 py-2 focus:ring-2 focus:ring-[#7fe826] focus:border-[#7fe826] outline-none transition-all shadow-sm text-sm" placeholder="Add a new tag..." onkeydown="if(event.key === 'Enter'){ event.preventDefault(); document.getElementById('addNewTagBtn').click(); }">
                        <button type="button" id="addNewTagBtn" class="bg-slate-700 text-white px-5 py-2 rounded-xl font-bold text-sm hover:bg-slate-800 transition-colors shadow-sm">Add</button>
                    </div>
                    <!-- Tag Container with scrollbar -->
                    <div id="tagSelectionContainer" class="flex flex-wrap gap-2 max-h-40 overflow-y-auto p-1 custom-scrollbar">
                        <!-- Populated via JS -->
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-semibold text-slate-700 mb-1.5">Image URL</label>
                    <input type="url" id="modelImage" required class="w-full border border-slate-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-[#7fe826] focus:border-[#7fe826] outline-none transition-all shadow-sm" placeholder="https://example.com/image.jpg">
                </div>
                
                <div class="pt-6 flex gap-3 flex-shrink-0">
                    <button type="button" onclick="closeModelModal()" class="flex-1 bg-white border border-slate-200 text-slate-700 py-3 rounded-xl font-bold hover:bg-slate-50 transition-colors">Cancel</button>
                    <button type="submit" class="flex-1 bg-[#111] text-white py-3 rounded-xl font-bold hover:bg-black transition-colors shadow-sm">Add to Gallery</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Success Toast Notification -->
    <div id="successToast" class="fixed bottom-6 right-6 bg-[#111] text-white px-6 py-4 rounded-2xl shadow-2xl font-medium flex items-center gap-3 z-50">
        <div class="w-6 h-6 rounded-full bg-[#7fe826] flex items-center justify-center text-white">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
        </div>
        Action completed successfully!
    </div>

    <!-- Application Logic -->
    <script>
        // ==========================================
        // 1. NAVIGATION LOGIC (Pill Style)
        // ==========================================
        const navItems = document.querySelectorAll('.nav-item');
        const viewSections = document.querySelectorAll('.view-section');

        navItems.forEach(item => {
            item.addEventListener('click', () => {
                const targetId = item.getAttribute('data-target');

                // If clicking a placeholder tab without a view, do nothing for now
                if(!document.getElementById(targetId)) return;

                // Reset all nav pills
                navItems.forEach(nav => {
                    nav.classList.remove('bg-white', 'text-slate-900', 'shadow-sm');
                    nav.classList.add('text-slate-500');
                });

                // Set active nav pill
                item.classList.remove('text-slate-500');
                item.classList.add('bg-white', 'text-slate-900', 'shadow-sm');

                // Switch visible view
                viewSections.forEach(section => {
                    section.classList.add('hidden');
                    section.classList.remove('block');
                });
                document.getElementById(targetId).classList.remove('hidden');
                document.getElementById(targetId).classList.add('block');
            });
        });

        let currentActiveModelData = null;

        // Extracted HTML generators for cards
        function generateAssetCardHTML(asset) {
            const imgUrl = asset.url || asset.image_url || asset.src || (typeof asset === 'string' ? asset : 'https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400');
            const tagStr = asset.tags || 'Asset';
            const firstTag = tagStr.split(',')[0].trim() || 'Asset';
            return `
                <div class="relative aspect-[4/5] rounded-[1rem] overflow-hidden bg-white shadow-sm group cursor-pointer">
                    <img src="${imgUrl}" class="w-full h-full object-cover object-center" onerror="this.src='https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400'">
                    <div class="absolute top-2 left-2 text-white font-medium text-[10px] shadow-sm">${firstTag}</div>
                    <div class="absolute top-2 right-2 w-5 h-5 bg-white rounded-full flex items-center justify-center text-slate-600 shadow-sm"><svg class="w-2.5 h-2.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg></div>
                    <div class="absolute bottom-2 left-2 bg-white px-2 py-0.5 rounded-full text-[9px] font-bold text-slate-800 shadow-sm">70%</div>
                </div>
            `;
        }

        function generateClipCardHTML(clip, index) {
            const clipUrl = clip.url || clip.video_url || clip.src || (typeof clip === 'string' ? clip : 'https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=500');
            const tagStr = clip.tags || 'Clip';
            const firstTag = tagStr.split(',')[0].trim() || 'Clip';
            const isVideo = clipUrl.match(/\.(mp4|webm|ogg)$/i);
            const mediaElement = isVideo
                ? `<video src="${clipUrl}" class="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition" muted loop onmouseover="this.play()" onmouseout="this.pause()"></video>`
                : `<img src="${clipUrl}" class="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition" onerror="this.src='https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=500'">`;

            return `
                <div class="relative h-[160px] xl:h-[180px] rounded-[1.25rem] overflow-hidden bg-slate-900 group cursor-pointer shadow-sm">
                    ${mediaElement}
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-black/20 pointer-events-none"></div>
                    <div class="absolute top-3 left-3 flex items-center gap-1 text-white text-[10px] font-bold pointer-events-none">
                        <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"></path></svg>
                        ${firstTag}
                    </div>
                    <div class="absolute bottom-3 left-3 text-white pointer-events-none">
                        <div class="text-[11px] font-medium leading-tight">Clip<br>${index + 1}</div>
                    </div>
                    <button class="absolute bottom-3 right-3 w-7 h-7 bg-white rounded-full flex items-center justify-center text-[#111] shadow-sm transform group-hover:scale-110 transition">
                        <svg class="w-3.5 h-3.5 ml-0.5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path></svg>
                    </button>
                </div>
            `;
        }

        function openAllAssetsView() {
            document.querySelectorAll('.view-section').forEach(s => {
                s.classList.add('hidden');
                s.classList.remove('block');
            });
            const target = document.getElementById('allAssetsView');
            target.classList.remove('hidden');
            target.classList.add('block');
            
            const grid = document.getElementById('fullAssetsGrid');
            grid.innerHTML = '';
            if (currentActiveModelData && currentActiveModelData.related_images_with_tags) {
                currentActiveModelData.related_images_with_tags.forEach(asset => {
                    grid.innerHTML += generateAssetCardHTML(asset);
                });
            }
        }

        function openAllClipsView() {
            document.querySelectorAll('.view-section').forEach(s => {
                s.classList.add('hidden');
                s.classList.remove('block');
            });
            const target = document.getElementById('allClipsView');
            target.classList.remove('hidden');
            target.classList.add('block');
            
            const grid = document.getElementById('fullClipsGrid');
            grid.innerHTML = '';
            if (currentActiveModelData && currentActiveModelData.related_videos_with_tags) {
                currentActiveModelData.related_videos_with_tags.forEach((clip, index) => {
                    grid.innerHTML += generateClipCardHTML(clip, index);
                });
            }
        }

        // Function called when clicking a model card
        function openCloseUpPage(cardData) {
            currentActiveModelData = cardData;
            const closeUpNav = document.querySelector('.nav-item[data-target="closeUpView"]');
            if (closeUpNav) closeUpNav.click();
            
            // 1. Update the main image in the Close Up view
            const mainImageEl = document.getElementById('closeUpMainImage');
            if (mainImageEl && cardData && cardData.main_image_url) {
                mainImageEl.src = cardData.main_image_url;
                mainImageEl.alt = cardData.title || 'Model';
            }

            // 2. Dynamically Populate Assets Grid (Only 2 previews + See more)
            const assetsGrid = document.getElementById('closeUpAssetsGrid');
            if (assetsGrid && cardData) {
                assetsGrid.innerHTML = ''; 
                const assets = cardData.related_images_with_tags || [];
                
                assets.slice(0, 2).forEach(asset => {
                    assetsGrid.innerHTML += generateAssetCardHTML(asset);
                });
                
                // See More Asset Button
                assetsGrid.innerHTML += `
                    <div onclick="openAllAssetsView()" class="aspect-[4/5] rounded-[1rem] border-2 border-slate-200 bg-white/60 flex flex-col items-center justify-center gap-1.5 cursor-pointer hover:bg-white hover:border-[#7fe826] transition shadow-sm group">
                        <div class="w-8 h-8 bg-[#111] group-hover:bg-[#7fe826] rounded-full flex items-center justify-center text-white text-sm font-bold transition-colors">
                            ${assets.length > 2 ? '+' + (assets.length - 2) : 'All'}
                        </div>
                        <span class="text-[10px] font-bold text-slate-600">See more</span>
                    </div>
                `;
            }

            // 3. Dynamically Populate Clips Grid (Only 2 previews + See more)
            const clipsGrid = document.getElementById('closeUpClipsGrid');
            if (clipsGrid && cardData) {
                clipsGrid.innerHTML = ''; 
                const clips = cardData.related_videos_with_tags || [];
                
                clips.slice(0, 2).forEach((clip, index) => {
                    clipsGrid.innerHTML += generateClipCardHTML(clip, index);
                });
                
                // See More Clip Button
                clipsGrid.innerHTML += `
                    <div onclick="openAllClipsView()" class="h-[160px] xl:h-[180px] rounded-[1.25rem] border-2 border-slate-200 bg-white/60 flex flex-col items-center justify-center gap-1.5 cursor-pointer hover:bg-white hover:border-[#7fe826] transition shadow-sm group">
                        <div class="w-9 h-9 bg-[#111] group-hover:bg-[#7fe826] rounded-full flex items-center justify-center text-white text-lg font-bold transition-colors">
                            ${clips.length > 2 ? '+' + (clips.length - 2) : 'All'}
                        </div>
                        <span class="text-[11px] font-bold text-slate-600">See more</span>
                    </div>
                `;
            }

            console.log(`Switched to Close Up view for: ${cardData ? cardData.title : 'Model'}`);
        }

        // ==========================================
        // ADD NEW MODEL TAGS LOGIC
        // ==========================================
        const initialTagsList = [
            "Amazing Tits", "Asian", "Ass", "BJ", "Clothed", "Cutest Pussy",
            "Dirty Talker", "Doggy", "Ebony", "Face", "Full Nude",
            "Gorgeous Face", "Great Ass", "Great Suckers", "Hot Interracial",
            "Hot Orgasmer", "Latina", "Milf", "Pussy", "Pussy Close up",
            "Pussy Eater", "Sexy Moaning", "Sexy Riders", "Small", "Spread",
            "Tits", "VD Facials", "VD Great Ass", "VD Great Suckers"
        ];
        
        let availableModalTags = [...initialTagsList];
        let selectedModalTags = new Set();
        
        function renderModalTags() {
            const container = document.getElementById('tagSelectionContainer');
            if (!container) return;
            container.innerHTML = '';
            
            availableModalTags.forEach(tag => {
                const isSelected = selectedModalTags.has(tag);
                const tagEl = document.createElement('div');
                tagEl.className = `cursor-pointer px-3 py-1.5 rounded-full text-xs font-semibold transition-all select-none border ${
                    isSelected 
                    ? 'bg-[#111] text-white border-[#111] shadow-md' 
                    : 'bg-slate-100 text-slate-600 border-slate-200 hover:border-slate-300 hover:bg-slate-200'
                }`;
                tagEl.textContent = tag;
                tagEl.onclick = () => {
                    if (selectedModalTags.has(tag)) {
                        selectedModalTags.delete(tag);
                    } else {
                        selectedModalTags.add(tag);
                    }
                    renderModalTags();
                };
                container.appendChild(tagEl);
            });
        }

        document.getElementById('addNewTagBtn')?.addEventListener('click', () => {
            const input = document.getElementById('newTagInput');
            const val = input.value.trim();
            if (val) {
                // If tag doesn't exist case-insensitively, add it
                const exists = availableModalTags.find(t => t.toLowerCase() === val.toLowerCase());
                if (!exists) {
                    availableModalTags.unshift(val); // Add to beginning of the array
                    selectedModalTags.add(val);
                } else {
                    selectedModalTags.add(exists);
                }
                input.value = '';
                renderModalTags();
            }
        });

        // Ensure tags render when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            renderModalTags();
        });


        // ==========================================
        // SUPABASE INTEGRATION
        // ==========================================
        const SUPABASE_URL = 'https://fwzffqwjprjuwidkrckb.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ3emZmcXdqcHJqdXdpZGtyY2tiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMTMwNzMsImV4cCI6MjA2MzU4OTA3M30.p3b_pshzTN-G3QTKE91b5TGBZJwSRZTEOClXN5JEl6I';

        let supabaseClient;
        let allTags = new Set();
        let galleryModelCount = 0;

        // DOM Elements
        const galleryEmptyState = document.getElementById('modelsEmptyState');
        const galleryGrid = document.getElementById('modelsGrid');
        const loadingState = document.getElementById('modelsLoadingState');
        const selectElement = document.getElementById('tagFilter');

        function loadFallbackTags() {
            allTags = new Set(['High Fashion', 'Streetwear', 'Editorial', 'Commercial', 'Fitness', 'Glamour', 'Sci-Fi', 'Fantasy']);
            populateTagDropdown();
        }

        async function fetchModelsData() {
            if (!supabaseClient) return;
            try {
                const { data, error } = await supabaseClient
                    .from('cards')
                    .select('id, title, main_image_url, tags, related_images_with_tags, related_videos_with_tags')
                    .order('id', { ascending: false });
                    
                if (error) throw error;
                
                loadingState.style.display = 'none';
                galleryGrid.innerHTML = '';
                galleryModelCount = 0;

                if (data && data.length > 0) {
                    galleryEmptyState.classList.add('hidden');
                    galleryEmptyState.classList.remove('flex');
                    galleryGrid.classList.remove('hidden');

                    data.forEach(card => {
                        if (card.tags) {
                            card.tags.split(',').forEach(tag => {
                                if(tag.trim()) allTags.add(tag.trim());
                            });
                        }

                        createGalleryModelCard(card, false);
                    });
                } else {
                    galleryEmptyState.classList.remove('hidden');
                    galleryEmptyState.classList.add('flex');
                    galleryGrid.classList.add('hidden');
                }

                populateTagDropdown();
            } catch (error) {
                console.error('Error fetching data from Supabase:', error);
                loadingState.style.display = 'none';
                galleryEmptyState.classList.remove('hidden');
                galleryEmptyState.classList.add('flex');
                
                galleryEmptyState.querySelector('h3').innerText = "Database Connection Error";
                galleryEmptyState.querySelector('p').innerText = "Check the console for details. Make sure the table 'cards' exists.";
                loadFallbackTags();
            }
        }

        function populateTagDropdown() {
            while (selectElement.options.length > 1) {
                selectElement.remove(1);
            }
            
            const sortedTags = Array.from(allTags).sort();
            sortedTags.forEach(tag => {
                const option = document.createElement('option');
                option.value = tag.toLowerCase(); 
                option.textContent = tag;
                selectElement.appendChild(option);
            });
        }

        selectElement.addEventListener('change', (e) => {
            const selectedTag = e.target.value.toLowerCase();
            const cards = document.querySelectorAll('.gallery-model-card');
            
            cards.forEach(card => {
                const cardTag = card.getAttribute('data-tag').toLowerCase();
                if (selectedTag === 'all' || cardTag.includes(selectedTag)) {
                    card.style.display = 'flex';
                } else {
                    card.style.display = 'none';
                }
            });
        });

        document.addEventListener('DOMContentLoaded', () => {
            try {
                supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
                fetchModelsData();
            } catch (err) {
                console.warn("Supabase client failed to initialize.", err);
                loadingState.style.display = 'none';
                loadFallbackTags();
            }
        });

        // ==========================================
        // UI COMPONENTS & MODALS
        // ==========================================
        const modelModal = document.getElementById('addModelModal');
        const modelForm = document.getElementById('addModelForm');
        const successToast = document.getElementById('successToast');

        function openModelModal() { 
            modelModal.classList.add('active'); 
        }
        function closeModelModal() { 
            modelModal.classList.remove('active'); 
            modelForm.reset();
            selectedModalTags.clear();
            renderModalTags();
        }

        function showSuccessToast(message = "Action completed successfully!") {
            successToast.innerHTML = `
                <div class="w-6 h-6 rounded-full bg-[#7fe826] flex items-center justify-center text-white">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                </div>
                ${message}
            `;
            successToast.classList.add('show');
            setTimeout(() => successToast.classList.remove('show'), 3000);
        }

        modelForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const tagsArray = Array.from(selectedModalTags);
            const tagsString = tagsArray.length > 0 ? tagsArray.join(', ') : 'Uncategorized';
            
            const newCardData = {
                title: document.getElementById('modelName').value,
                tags: tagsString,
                main_image_url: document.getElementById('modelImage').value,
                related_images_with_tags: [],
                related_videos_with_tags: []
            };

            createGalleryModelCard(newCardData, true);
            closeModelModal();
            showSuccessToast("Model added to gallery!");
            
            if (tagsArray.length > 0) {
                tagsArray.forEach(tag => {
                    if (!allTags.has(tag)) {
                        allTags.add(tag);
                    }
                });
                populateTagDropdown();
            }
        });

        function createGalleryModelCard(cardData, prepend = true) {
            if (galleryModelCount === 0) {
                galleryEmptyState.classList.add('hidden');
                galleryEmptyState.classList.remove('flex');
                galleryGrid.classList.remove('hidden');
            }
            galleryModelCount++;

            let tag = 'Model';
            if (cardData.tags) {
                const tagsArray = cardData.tags.split(',');
                if (tagsArray.length > 0 && tagsArray[0].trim()) {
                    tag = tagsArray[0].trim();
                }
            }

            const name = cardData.title || 'Untitled Model';
            const imageSrc = cardData.main_image_url || 'https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80';

            const card = document.createElement('div');
            card.className = 'gallery-model-card flex flex-col bg-white rounded-3xl p-3 shadow-sm border border-slate-100/50';
            card.setAttribute('data-tag', tag);
            card.onclick = () => openCloseUpPage(cardData);

            card.innerHTML = `
                <div class="gallery-model-img-wrapper relative aspect-[4/5] bg-slate-100 overflow-hidden rounded-[1.5rem]">
                    <span class="absolute top-3 right-3 z-10 bg-white/90 backdrop-blur-md text-slate-800 text-[11px] font-bold px-3 py-1.5 rounded-full shadow-sm">
                        ${tag}
                    </span>
                    <img src="${imageSrc}" alt="${name}" class="w-full h-full object-cover object-top" onerror="this.src='https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80'">
                </div>
                <div class="pt-4 pb-2 px-2">
                    <h3 class="text-base font-bold text-slate-900 truncate" title="${name}">${name}</h3>
                </div>
            `;
            
            if (prepend && galleryGrid.firstChild) {
                galleryGrid.insertBefore(card, galleryGrid.firstChild);
            } else {
                galleryGrid.appendChild(card);
            }
        }
    </script>
</body>
</html>
